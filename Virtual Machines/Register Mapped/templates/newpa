    mov rdi, {r[j]}
    add rdi, 8
    pushq
    call malloc
    popq
    mov {r[i]}, rax
    mov rax, {r[j]}
    inc rax
    shl rax, 3
    or rax, 1 ; PtrArray
    mov [{r[i]}], rax ;set size and flags
    xor rax, rax